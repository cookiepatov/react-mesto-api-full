{"version":3,"sources":["utils/constants.js","utils/api.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","utils/validator.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","images/check.svg","images/cross.svg","components/InfoTooltip.js","components/AuthForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["validationSettings","inputClass","inputErrorClass","errorClass","errorClassVisible","authValidation","api","options","this","_baseUrl","baseUrl","_token","localStorage","getItem","_contentType","headers","res","ok","json","Promise","reject","status","email","password","fetch","method","body","JSON","stringify","then","_resultHandler","authorization","name","about","avatar","link","id","setLiked","likeCard","dislikeCard","jwt","CurrentUserContext","createContext","withRouter","props","currentLocation","login","signOut","useState","userInfoOpened","setUserInfoOpened","headerClass","setHeaderClass","burgerClass","rightBlockClass","type","handleBurgerClick","className","to","onClick","getLink","headerContentClass","src","logo","alt","Card","card","onCardClick","onDeleteClick","onCardLike","likeIsLoading","setLikeIsLoading","currentUserId","useContext","_id","likes","owner","isOwn","isLiked","some","likeId","deleteBtnClassName","likeBtnLoadingClassName","likeBtnClassName","useEffect","style","backgroundImage","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","map","item","reverse","Footer","year","Date","getFullYear","PopupWithForm","title","children","isOpen","onClose","onSubmit","formValidity","buttonText","popupClassname","disabled","useFormAndValidation","authMode","values","setValues","errors","setErrors","isValid","setIsValid","inputsClasses","setInputsClasses","errorsClasses","setErrorsClasses","handleChange","target","value","newInputClass","validity","valid","newErrorClass","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newInputClasses","newErrrorClasses","newIsValid","EditProfilePopup","onUpdateUser","isLoading","currentUser","setButtonText","interval","useRef","dots","i","current","setInterval","clearInterval","description","e","preventDefault","required","minLength","maxLength","placeholder","onChange","ImagePopup","selectedCard","popupClass","EditAvatarPopup","onUpdateAvatar","data","AddPlacePopup","DeleteCardPopup","onDeleteCard","InfoTooltip","accepted","text","picSrc","check","cross","AuthForm","loggedIn","Login","onLogin","onRegister","ProtectedRoute","Component","component","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","isImagePopupOpen","setImagePopupOpen","isTooltipOpen","setTooltipOpen","setSelectedCard","setCurrentUser","setCards","cardToDelete","setCardToDelete","popupDataIsLoading","setPopupDataIsLoading","setLoggedIn","tooltipAcceptedStatus","setTooltipAcceptedStatus","userEmail","setUserEmail","openToolTip","state","setEventListeners","closeAllPopups","document","removeEventListener","closeOnEsc","closeOnOverlay","addEventListener","checkToken","push","catch","err","console","log","all","getUserInfo","getInitialCards","user","key","classList","contains","Provider","useLocation","pathname","removeItem","exact","path","authorize","token","setItem","setNewToken","register","changeLikeCardStatus","newCard","currentCard","setUserInfo","finally","addNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e8650bb.chunk.js","sourcesContent":["const validationSettings = {\n  inputClass: 'popup__input',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error',\n  errorClassVisible: 'popup__error_visible'\n};\n\nconst authValidation = {\n  inputClass: 'auth-form__input',\n  inputErrorClass: 'auth-form__input_type_error',\n  errorClass: 'auth-form__error',\n  errorClassVisible: 'auth-form__error_visible'\n}\n\nconst apiData = {\n  baseUrl: 'https://api.mesto-reinat.nomoredomains.monster',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}\n\n\nexport {\n  validationSettings,\n  authValidation,\n  apiData\n};\n","import {apiData} from './constants';\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._token = localStorage.getItem('jwt') ? `Bearer ${localStorage.getItem('jwt')}` : null;\n    this._contentType = options.headers['Content-Type'];\n  }\n\n  _resultHandler(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  authorize({email, password}) {\n    return fetch(this._baseUrl + '/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType\n      },\n      body: JSON.stringify({password, email})\n    })\n      .then(res => this._resultHandler(res));\n  }\n\n  register({email, password}) {\n    return fetch(this._baseUrl + '/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType\n      },\n      body: JSON.stringify({password, email})\n    })\n      .then(res => this._resultHandler(res));\n  }\n\n  checkToken() {\n    if (this._token) {\n      return fetch(this._baseUrl + '/users/me', {\n        method: 'GET',\n        headers: {\n          'Content-Type': this._contentType,\n          authorization: this._token\n        }\n      })\n        .then(res => this._resultHandler(res));\n    }\n    return Promise.reject('no token')\n  }\n\n\n  getInitialCards() {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(res => this._resultHandler(res));\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        authorization: this._token\n      }\n    }).then(res => this._resultHandler(res));\n\n  }\n\n  setUserInfo(name, about) {\n    return fetch(this._baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => this._resultHandler(res));\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => this._resultHandler(res));\n\n  }\n\n  addNewCard(name, link) {\n    return fetch(this._baseUrl + '/cards', {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(res => this._resultHandler(res));\n  }\n\n  deleteCard(id) {\n    return fetch(this._baseUrl + '/cards/' + id, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    }).then(res => this._resultHandler(res));\n  }\n\n  changeLikeCardStatus(id, setLiked) {\n    if(setLiked) {\n      return this.likeCard(id);\n    }\n    return this.dislikeCard(id);\n  }\n\n  likeCard(id) {\n    return fetch(this._baseUrl + `/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token\n      }\n    }).then(res => this._resultHandler(res));\n  }\n\n  dislikeCard(id) {\n    return fetch(this._baseUrl + `/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    }).then(res => this._resultHandler(res));\n  }\n\n  setNewToken(jwt) {\n    this._token = `Bearer ${jwt}`;\n  }\n\n}\n\nexport const api = new Api(apiData);\n","import {createContext} from 'react'\r\n\r\nexport const CurrentUserContext = createContext({});\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import { React, useState } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header(props) {\r\n  const { currentLocation, login, signOut } = props;\r\n  const [userInfoOpened, setUserInfoOpened] = useState(false);\r\n  const [headerClass, setHeaderClass] = useState('header')\r\n  const { burgerClass, rightBlockClass } = userInfoOpened ?\r\n    {\r\n      burgerClass: 'header__humburger-button header__humburger-button_type_cross',\r\n      rightBlockClass: 'header__right-block header__right-block_visible'\r\n    }\r\n    :\r\n    {\r\n      burgerClass: 'header__humburger-button',\r\n      rightBlockClass: 'header__right-block'\r\n    };\r\n  const link = getLink(currentLocation, login, burgerClass, rightBlockClass, handleBurgerClick, signOut);\r\n  const headerContentClass = (currentLocation === '/') ? 'header__content' : 'header__content header__content_simple';\r\n  function handleBurgerClick() {\r\n    setUserInfoOpened(!userInfoOpened);\r\n    if (headerClass === 'header') {\r\n      setHeaderClass('header header_lowered')\r\n    } else {\r\n      setHeaderClass('header')\r\n    }\r\n\r\n  }\r\n  return (\r\n    <header className='header'>\r\n      <div className={headerContentClass}>\r\n        <img src={logo} className=\"logo\" alt=\"Mesto Russia\" />\r\n      </div>\r\n      {link}\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction getLink(type, login, burgerClass, rightBlockClass, handleBurgerClick, signOut) {\r\n  switch (type) {\r\n    case '/sign-in': {\r\n      return (\r\n        <Link className='header__link' to={'/sign-up'}>\r\n          Регистрация\r\n        </Link>)\r\n    }\r\n    case '/': {\r\n      return (<>\r\n        <button className={burgerClass} onClick={handleBurgerClick}></button>\r\n        <div className={rightBlockClass}>\r\n          <p className=\"header__email\">{login}</p>\r\n          <Link className='header__link header__link_faded' to={'/sign-in'} onClick={signOut}>\r\n            Выйти\r\n          </Link>\r\n        </div>\r\n      </>\r\n      )\r\n    }\r\n    default: {\r\n      return (\r\n        <Link className='header__link' to={'/sign-in'}>\r\n          Войти\r\n        </Link>\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import {React, useContext, useState, useEffect} from 'react';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const {\n    card,\n    onCardClick,\n    onDeleteClick,\n    onCardLike} = props;\n\n  const [likeIsLoading, setLikeIsLoading] = useState(false);\n  const {_id: currentUserId} = useContext(CurrentUserContext);\n\n  const {likes, owner, name, link} = card;\n  const currentOwnerId = owner;\n  const isOwn = currentUserId === currentOwnerId;\n  const isLiked = likes.some(likeId=> likeId === currentUserId);\n\n  const deleteBtnClassName = isOwn ? 'element__delete-button' : 'element__delete-button element__delete-button_hidden';\n  const likeBtnLikedClassName = isLiked ? 'element__like-button element__like-button_active' : '';\n  const likeBtnLoadingClassName = likeIsLoading ? 'element__like-button_loading' : ''\n  const likeBtnClassName = `element__like-button ${likeBtnLikedClassName} ${likeBtnLoadingClassName}`\n\n  useEffect(() => {\n    setLikeIsLoading(false);\n  },[likes])\n\n  function handleClick() {\n    onCardClick(card);\n  }\n  function handleDelete() {\n    onDeleteClick(card);\n  }\n  function handleLikeClick () {\n    onCardLike(card);\n    setLikeIsLoading(true);\n  }\n\n  return (\n    <figure className=\"element\">\n      <button className=\"element__picture-button\" style={{backgroundImage: `url(${link})`}} onClick={handleClick}/>\n      <button type=\"button\" className={deleteBtnClassName}  onClick={handleDelete}></button>\n      <figcaption className=\"element__caption\">\n        <h2 className=\"element__text\">{name}</h2>\n        <div className=\"element__like-container\">\n          <button type=\"button\" className={likeBtnClassName} onClick={handleLikeClick}></button>\n          <p className=\"element__like-counter\">{likes.length}</p>\n        </div>\n      </figcaption>\n    </figure>)\n}\n\nexport default Card;\n","import {React, useContext} from 'react';\n\nimport Card from './Card';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const {onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    onCardClick,\n    cards,\n    onCardLike,\n    onCardDelete} = props;\n  const {name, about, avatar} = useContext(CurrentUserContext)\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button className=\"profile__avatar-button\" onClick={onEditAvatar} style={{ backgroundImage: `url(${avatar})` }} />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map(item => (\n        <Card\n          card={item}\n          key={item._id}\n          onCardClick={onCardClick}\n          onDeleteClick={onCardDelete}\n          onCardLike={onCardLike}/>)).reverse()}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import {React} from 'react';\r\n\r\nfunction Footer() {\r\n  const year = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"copyright\">\r\n        &copy; {year} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const {name, title, children, isOpen, onClose, onSubmit, formValidity, buttonText} = props;\r\n  const popupClassname = isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`\r\n\r\n  return (\r\n    <section className={popupClassname}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">\r\n          {title}\r\n        </h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n          {children}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"popup__button\"\r\n          disabled={!formValidity}>{buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import {useState, useCallback} from 'react';\r\nimport {validationSettings, authValidation} from './constants';\r\n\r\nexport function useFormAndValidation(authMode = false) {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [inputsClasses, setInputsClasses] = useState({});\r\n  const [errorsClasses, setErrorsClasses] = useState({});\r\n\r\n  const handleChange = ({target}) => {\r\n    const {inputClass, inputErrorClass, errorClass, errorClassVisible} = authMode ? authValidation :  validationSettings;\r\n    const {name, value} = target;\r\n    const newInputClass = target.validity.valid ? inputClass : `${inputClass} ${inputErrorClass}`;\r\n    const newErrorClass = target.validity.valid ? errorClass: `${errorClass} ${errorClassVisible}`;\r\n    setValues({...values, [name]: value });\r\n    setErrors({...errors, [name]: target.validationMessage});\r\n    setInputsClasses({...inputsClasses, [name]: newInputClass});\r\n    setErrorsClasses({...errorsClasses, [name]: newErrorClass});\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n\r\n\r\n\r\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newInputClasses = {}, newErrrorClasses = {}, newIsValid = false) => {\r\n    setValues(newValues);\r\n    setErrors(newErrors);\r\n    setIsValid(newIsValid);\r\n    setInputsClasses(newInputClasses);\r\n    setErrorsClasses(newErrrorClasses)\r\n  }, [setValues, setErrors, setIsValid]);\r\n\r\n  return {values, handleChange, errors, inputsClasses, errorsClasses, isValid, resetForm, setValues, setIsValid};\r\n}\r\n","import {React, useState, useEffect, useContext, useRef} from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport {useFormAndValidation} from '../utils/validator';\r\nimport {validationSettings} from '../utils/constants';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {isOpen, onClose, onUpdateUser, isLoading} = props\r\n  const {inputClass, errorClass} = validationSettings;\r\n  const {values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm} = useFormAndValidation();\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },200)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      {name: currentUser.name, description: currentUser.about},\r\n      {name: '', description: ''},\r\n      {name:inputClass, description:inputClass},\r\n      {name:errorClass, description:errorClass},\r\n      true);\r\n  }, [isOpen]);\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const {name, description: about} = values;\r\n    onUpdateUser({name, about});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'profile'}\r\n      title={'Редактировать профиль'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={isValid}>\r\n      <input\r\n        id=\"profile-name-input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        className={inputsClasses.name}\r\n        placeholder=\"Ваше имя\"\r\n        value={values.name || ''}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.name}>{errors.name}</span>\r\n      <input\r\n        id=\"profile-description-input\"\r\n        name=\"description\"\r\n        required minLength=\"2\"\r\n        maxLength=\"200\"\r\n        className={inputsClasses.description}\r\n        placeholder=\"Описание\"\r\n        value={values.description || ''}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.description}>{errors.description}</span>\r\n    </PopupWithForm>)\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const {isOpen, onClose, selectedCard} = props;\r\n  const src = selectedCard ? selectedCard.link : '#';\r\n  const title = selectedCard ? selectedCard.name : '';\r\n  const popupClass = isOpen ? 'popup popup_opened popup_type_full-view' : 'popup popup_type_full-view'\r\n  return (\r\n    <section className={popupClass}>\r\n      <figure className=\"popup__picture-container\">\r\n        <div className=\"popup__picture-elements\">\r\n          <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n          <img className=\"popup__full-picture\"\r\n            alt=\"Полноэкранный просмотр\"\r\n            src={src} />\r\n          <h2 className=\"popup__picture-title\">{title}</h2>\r\n        </div>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {React, useEffect, useRef, useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {useFormAndValidation} from '../utils/validator'\r\nimport {validationSettings} from '../utils/constants';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {isOpen, onClose, onUpdateAvatar, isLoading} = props;\r\n  const {inputClass, errorClass} = validationSettings;\r\n  const {values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm} = useFormAndValidation();\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },200)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      {data: ''},\r\n      {data: ''},\r\n      {data: inputClass},\r\n      {data: errorClass},\r\n      false);\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(values.data);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'avatar'}\r\n      title={'Обновить аватар'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={isValid}>\r\n      <input\r\n        id=\"avatar-link-input\"\r\n        name=\"data\"\r\n        required\r\n        type=\"url\"\r\n        className={inputsClasses.data}\r\n        placeholder=\"Ссылка на аватар\"\r\n        value={values.data || ''}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.data}>{errors.data}</span>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import {React, useState, useEffect, useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {useFormAndValidation} from '../utils/validator';\r\nimport {validationSettings} from '../utils/constants';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const {isOpen, onClose, onAddPlace, isLoading} = props;\r\n  const {inputClass, errorClass} = validationSettings;\r\n  const {values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm} = useFormAndValidation();\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },200)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      {name: '', data: ''},\r\n      {name: '', data: ''},\r\n      {name:inputClass, data:inputClass},\r\n      {name:errorClass, data:errorClass});\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const {name, data: link} = values;\r\n    onAddPlace({name, link});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'card'}\r\n      title={'Новое место'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={isValid}>\r\n      <input\r\n        id=\"place-name-input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        className={inputsClasses.name}\r\n        placeholder=\"Название\"\r\n        onChange={handleChange}\r\n        value={values.name || ''} />\r\n      <span className={errorsClasses.name}>{errors.name}</span>\r\n      <input\r\n        id=\"place-link-input\"\r\n        name=\"data\"\r\n        required\r\n        type=\"url\"\r\n        className={inputsClasses.data}\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChange}\r\n        value={values.data || ''}/>\r\n      <span className={errorsClasses.data}>{errors.data}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import {React, useState, useEffect, useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n  const {isOpen, onClose, selectedCard, onDeleteCard, isLoading} = props;\r\n  const [buttonText, setButtonText] = useState('Да');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Удаление${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },200)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Да`);\r\n    }\r\n  },[isLoading])\r\n\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(selectedCard);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'remove-card'}\r\n      title={'Вы уверены?'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={true}>\r\n  </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default DeleteCardPopup;\r\n","export default __webpack_public_path__ + \"static/media/check.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/cross.d4ce2a26.svg\";","import React from 'react';\r\n\r\nimport check from '../images/check.svg';\r\nimport cross from '../images/cross.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n  const {isOpen, onClose, accepted} = props;\r\n  const popupClassname = isOpen ? `popup popup_type_tooltip popup_opened` : `popup popup_type_tooltip`\r\n  const { text, picSrc } = accepted ?\r\n  {\r\n    text: \"Вы успешно зарегистрировались!\",\r\n    picSrc: check\r\n  }\r\n    :\r\n  {\r\n    text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n    picSrc: cross\r\n  }\r\n  return (\r\n    <section className={popupClassname}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button popup__close-button_type_info\" onClick={onClose}></button>\r\n          <img className=\"popup__info-img\" alt=\"Информационное изображение\" src={picSrc} />\r\n          <p className=\"popup__info-text\">\r\n            {text}\r\n          </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import {React, useEffect} from 'react';\r\nimport {useFormAndValidation} from '../utils/validator';\r\nimport {authValidation} from '../utils/constants';\r\n\r\nfunction AuthForm(props) {\r\n  const { loggedIn, onSubmit, buttonText} = props;\r\n  const { inputClass, errorClass } = authValidation;\r\n  const { values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm } = useFormAndValidation(true);\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      { email: '', password: '' },\r\n      { email: '', password: '' },\r\n      { email: inputClass, password: inputClass },\r\n      { email: errorClass, password: errorClass });\r\n  }, [loggedIn]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit(values);\r\n\r\n  }\r\n\r\n  return (\r\n    <form className=\"auth-form__container\" onSubmit={handleSubmit}>\r\n      <fieldset className=\"auth-form__inputs\">\r\n        <input\r\n          className={inputsClasses.email}\r\n          id=\"email-input\"\r\n          type=\"email\"\r\n          required\r\n          name=\"email\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Email\"\r\n          value={values.email || ''}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.email}>{errors.email}</span>\r\n        <input\r\n          className={inputsClasses.password}\r\n          id=\"password-input\"\r\n          type=\"password\"\r\n          required\r\n          name=\"password\"\r\n          minLength=\"7\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={values.password || ''}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.password}>{errors.password}</span>\r\n      </fieldset>\r\n      <button className=\"auth-form__button\" type=\"submit\" disabled={!isValid}>{buttonText}</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default AuthForm;\r\n","import {React} from 'react';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n  const {loggedIn, onLogin} = props;\r\n\r\n  return (\r\n    <div className=\"auth-form\">\r\n      <h2 className=\"auth-form__header\">\r\n        Вход\r\n      </h2>\r\n      <AuthForm loggedIn={loggedIn} onSubmit={onLogin} buttonText={'Войти'}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import {React} from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props) {\r\n  const { loggedIn, onRegister } = props;\r\n\r\n\r\n  return (\r\n    <div className=\"auth-form\">\r\n      <h2 className=\"auth-form__header\">\r\n        Регистрация\r\n      </h2>\r\n      <AuthForm\r\n        buttonText={'Зарегистрироваться'}\r\n        loggedIn={loggedIn}\r\n        onSubmit={onRegister} />\r\n      <p className=\"auth-form__bottom-message\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\"> Войти </Link></p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { React, useEffect, useState, useCallback } from 'react';\n\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Header from './Header';\nimport Main from './Main'\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Register from './Register';\nimport {Switch, useHistory, useLocation, Route, withRouter } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isTooltipOpen, setTooltipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [cardToDelete, setCardToDelete] = useState({});\n  const [popupDataIsLoading, setPopupDataIsLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [tooltipAcceptedStatus, setTooltipAcceptedStatus] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n  useEffect(() => {\n    checkToken();\n  }, [])\n\n\n  useEffect(() => {\n    loggedIn && Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards.cards);\n      }).catch(err => {\n        console.log(err);\n        openToolTip(false);\n      });\n  }, [loggedIn])\n\n  function handleEditAvatarClick() {\n    setEventListeners();\n    setEditAvatarPopupOpen(true);\n\n  }\n\n  function handleEditProfileClick() {\n    setEventListeners();\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setEventListeners();\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleDeleteCardClick(card) {\n    setEventListeners();\n    setDeleteCardPopupOpen(true);\n    setCardToDelete(card);\n  }\n\n  function handleCardClick(card) {\n    setEventListeners();\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function openToolTip(state) {\n    setTooltipOpen(true);\n    setTooltipAcceptedStatus(state);\n    setEventListeners();\n  }\n\n  function closeAllPopups() {\n    removeEventListeners();\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false)\n    setImagePopupOpen(false);\n    setTooltipOpen(false);\n    setSelectedCard({});\n    setCardToDelete({});\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setPopupDataIsLoading(true);\n    api.setUserInfo(name, about)\n      .then(user => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false)\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    setPopupDataIsLoading(true);\n    api.setUserAvatar(link)\n      .then(user => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false)\n      });\n  }\n\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(likeId => likeId === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards(cards => cards\n          .map(currentCard => currentCard._id === card._id ? newCard : currentCard));\n        closeAllPopups();\n      })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n    });\n  }\n\n  function handleConfirmDelete(card) {\n    setPopupDataIsLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards => cards\n          .filter(currentCard => currentCard._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false)\n      });\n  }\n\n\n\n  function handleAddCard({ name, link }) {\n    setPopupDataIsLoading(true);\n    api.addNewCard(name, link)\n      .then(data => {\n        setCards(cards => [...cards, data.card]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false);\n      });\n  }\n\n  function handleSignIn({ email, password }) {\n    api.authorize({ email, password }).then(user => {\n      saveToken(user.token);\n      setLoggedIn(true);\n      setUserEmail(user.email);\n      history.push('/');\n      setCurrentUser(user);\n    })\n      .catch(err => {\n        openToolTip(false);\n        console.log(err);\n    })\n  }\n\n  function handleSignUp({ email, password }) {\n    api.register({ email, password }).then(res => {\n      openToolTip(true);\n      history.push('/sign-in');\n    }).catch(err => {\n      openToolTip(false);\n      console.log(err);\n    })\n  }\n\n  function handleSignOut() {\n    removeToken();\n    setLoggedIn(false);\n  }\n\n  function saveToken(jwt) {\n    localStorage.setItem('jwt',jwt);\n    api.setNewToken(jwt);\n  }\n\n\n  function checkToken() {\n      api.checkToken().then((data) => {\n        setUserEmail(data.email);\n        setLoggedIn(true);\n        history.push('/');\n      }).catch(err => {\n        if (err !== 'no token') {\n          openToolTip(false);\n          console.log(err);\n        }\n      })\n  }\n\n  function removeToken() {\n    localStorage.removeItem('jwt');\n  }\n\n  function setEventListeners() {\n    document.addEventListener('keydown', closeOnEsc);\n    document.addEventListener('pointerdown', closeOnOverlay);\n  }\n\n  function removeEventListeners() {\n    document.removeEventListener('keydown', closeOnEsc);\n    document.removeEventListener('pointerdown', closeOnOverlay);\n  }\n\n\n  const closeOnEsc = useCallback((e) => {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }, []);\n\n  const closeOnOverlay = useCallback((e) => {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }, [])\n\n  return (\n\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header\n            currentLocation={useLocation().pathname}\n            login={userEmail}\n            signOut={handleSignOut} />\n          <Switch>\n            <Route\n              exact\n              path=\"/sign-in\">\n              <Login\n                loggedIn={loggedIn}\n                onLogin={handleSignIn} />\n            </Route>\n            <Route\n              exact\n              path=\"/sign-up\">\n              <Register\n                loggedIn={loggedIn}\n                onRegister={handleSignUp} />\n            </Route>\n          <ProtectedRoute\n              exact\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCardClick} />\n          </Switch>\n          <Footer />\n          <InfoTooltip\n            onClose={closeAllPopups}\n            isOpen={isTooltipOpen}\n            accepted={tooltipAcceptedStatus} />\n          <EditProfilePopup\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n            isOpen={isEditProfilePopupOpen}\n            isLoading={popupDataIsLoading} />\n          <AddPlacePopup\n            onAddPlace={handleAddCard}\n            onClose={closeAllPopups}\n            isOpen={isAddPlacePopupOpen}\n            isLoading={popupDataIsLoading} />\n          <EditAvatarPopup\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n            isOpen={isEditAvatarPopupOpen}\n            isLoading={popupDataIsLoading} />\n          <DeleteCardPopup\n            onDeleteCard={handleConfirmDelete}\n            onClose={closeAllPopups}\n            isOpen={isDeleteCardPopupOpen}\n            selectedCard={cardToDelete}\n            isLoading={popupDataIsLoading} />\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n            selectedCard={selectedCard} />\n        </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}