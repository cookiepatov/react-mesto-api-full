{"version":3,"sources":["utils/constants.js","utils/api.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","utils/validator.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","images/check.svg","images/cross.svg","components/InfoTooltip.js","components/AuthForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["validationSettings","inputClass","inputErrorClass","errorClass","errorClassVisible","authValidation","options","this","_baseUrl","baseUrl","_token","localStorage","getItem","_contentType","headers","res","ok","json","Promise","reject","Error","status","email","password","fetch","method","body","JSON","stringify","then","_resultHandler","authorization","name","about","avatar","link","id","setLiked","likeCard","dislikeCard","jwt","createContext","withRouter","props","currentLocation","login","signOut","useState","userInfoOpened","setUserInfoOpened","headerClass","setHeaderClass","burgerClass","rightBlockClass","type","handleBurgerClick","className","to","onClick","getLink","headerContentClass","src","logo","alt","Card","card","onCardClick","onDeleteClick","onCardLike","likeIsLoading","setLikeIsLoading","currentUserId","useContext","CurrentUserContext","_id","likes","owner","isOwn","isLiked","some","likeId","deleteBtnClassName","likeBtnLoadingClassName","likeBtnClassName","useEffect","style","backgroundImage","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","map","item","reverse","Footer","year","Date","getFullYear","PopupWithForm","title","children","isOpen","onClose","onSubmit","formValidity","buttonText","popupClassname","disabled","useFormAndValidation","authMode","values","setValues","errors","setErrors","isValid","setIsValid","inputsClasses","setInputsClasses","errorsClasses","setErrorsClasses","handleChange","target","value","newInputClass","validity","valid","newErrorClass","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newInputClasses","newErrrorClasses","newIsValid","EditProfilePopup","onUpdateUser","isLoading","currentUser","setButtonText","interval","useRef","dots","i","current","setInterval","clearInterval","description","e","preventDefault","required","minLength","maxLength","placeholder","onChange","ImagePopup","selectedCard","popupClass","EditAvatarPopup","onUpdateAvatar","data","AddPlacePopup","DeleteCardPopup","onDeleteCard","InfoTooltip","accepted","text","picSrc","check","cross","AuthForm","loggedIn","Login","onLogin","onRegister","ProtectedRoute","Component","component","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","isImagePopupOpen","setImagePopupOpen","isTooltipOpen","setTooltipOpen","setSelectedCard","setCurrentUser","setCards","cardToDelete","setCardToDelete","popupDataIsLoading","setPopupDataIsLoading","setLoggedIn","tooltipAcceptedStatus","setTooltipAcceptedStatus","userEmail","setUserEmail","closeAllPopups","document","removeEventListener","closeOnEsc","closeOnOverlay","key","classList","contains","setEventListeners","addEventListener","openToolTip","state","api","checkToken","push","catch","err","message","console","log","all","getUserInfo","getInitialCards","user","initialCardData","Provider","useLocation","pathname","removeItem","exact","path","authorize","token","setItem","setNewToken","register","changeLikeCardStatus","newCard","currentCards","currentCard","setUserInfo","finally","addNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4097ed34.chunk.js","sourcesContent":["const validationSettings = {\n  inputClass: 'popup__input',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__error',\n  errorClassVisible: 'popup__error_visible',\n};\n\nconst authValidation = {\n  inputClass: 'auth-form__input',\n  inputErrorClass: 'auth-form__input_type_error',\n  errorClass: 'auth-form__error',\n  errorClassVisible: 'auth-form__error_visible',\n};\n\nconst apiData = {\n  baseUrl: 'https://api.mesto-reinat.nomoredomains.monster',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\nexport {\n  validationSettings,\n  authValidation,\n  apiData,\n};\n","import { apiData } from './constants';\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._token = localStorage.getItem('jwt') ? `Bearer ${localStorage.getItem('jwt')}` : null;\n    this._contentType = options.headers['Content-Type'];\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  _resultHandler(res) {\n    return res.ok ? res.json() : Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  authorize({ email, password }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType,\n      },\n      body: JSON.stringify({ password, email }),\n    })\n      .then((res) => this._resultHandler(res));\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType,\n      },\n      body: JSON.stringify({ password, email }),\n    })\n      .then((res) => this._resultHandler(res));\n  }\n\n  checkToken() {\n    if (this._token) {\n      return fetch(`${this._baseUrl}/users/me`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': this._contentType,\n          authorization: this._token,\n        },\n      })\n        .then((res) => this._resultHandler(res));\n    }\n    return Promise.reject(new Error('no token'));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    })\n      .then((res) => this._resultHandler(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._resultHandler(res));\n  }\n\n  setUserInfo(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token,\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) => this._resultHandler(res));\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token,\n      },\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) => this._resultHandler(res));\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': this._contentType,\n        authorization: this._token,\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => this._resultHandler(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._resultHandler(res));\n  }\n\n  changeLikeCardStatus(id, setLiked) {\n    if (setLiked) {\n      return this.likeCard(id);\n    }\n    return this.dislikeCard(id);\n  }\n\n  likeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._resultHandler(res));\n  }\n\n  dislikeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._resultHandler(res));\n  }\n\n  setNewToken(jwt) {\n    this._token = `Bearer ${jwt}`;\n  }\n}\n\nexport default new Api(apiData);\n","import { createContext } from 'react';\n\nexport default createContext({});\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import { React, useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport logo from '../images/logo.svg';\n\nfunction getLink(type, login, burgerClass, rightBlockClass, handleBurgerClick, signOut) {\n  switch (type) {\n    case '/sign-in': {\n      return (\n        <Link className='header__link' to={'/sign-up'}>\n          Регистрация\n        </Link>);\n    }\n    case '/': {\n      return (<>\n        <button className={burgerClass} onClick={handleBurgerClick}></button>\n        <div className={rightBlockClass}>\n          <p className=\"header__email\">{login}</p>\n          <Link className='header__link header__link_faded' to={'/sign-in'} onClick={signOut}>\n            Выйти\n          </Link>\n        </div>\n      </>\n      );\n    }\n    default: {\n      return (\n        <Link className='header__link' to={'/sign-in'}>\n          Войти\n        </Link>\n      );\n    }\n  }\n}\n\nfunction Header(props) {\n  const { currentLocation, login, signOut } = props;\n  const [userInfoOpened, setUserInfoOpened] = useState(false);\n  const [headerClass, setHeaderClass] = useState('header');\n  const { burgerClass, rightBlockClass } = userInfoOpened\n    ? {\n      burgerClass: 'header__humburger-button header__humburger-button_type_cross',\n      rightBlockClass: 'header__right-block header__right-block_visible',\n    }\n    : {\n      burgerClass: 'header__humburger-button',\n      rightBlockClass: 'header__right-block',\n    };\n\n  function handleBurgerClick() {\n    setUserInfoOpened(!userInfoOpened);\n    if (headerClass === 'header') {\n      setHeaderClass('header header_lowered');\n    } else {\n      setHeaderClass('header');\n    }\n  }\n\n  const link = getLink(\n    currentLocation,\n    login,\n    burgerClass,\n    rightBlockClass,\n    handleBurgerClick,\n    signOut,\n  );\n  const headerContentClass = (currentLocation === '/') ? 'header__content' : 'header__content header__content_simple';\n\n  return (\n    <header className='header'>\n      <div className={headerContentClass}>\n        <img src={logo} className=\"logo\" alt=\"Mesto Russia\" />\n      </div>\n      {link}\n    </header>\n  );\n}\n\nexport default withRouter(Header);\n","import {\n  React, useContext, useState, useEffect,\n} from 'react';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const {\n    card,\n    onCardClick,\n    onDeleteClick,\n    onCardLike,\n  } = props;\n\n  const [likeIsLoading, setLikeIsLoading] = useState(false);\n  const { _id: currentUserId } = useContext(CurrentUserContext);\n\n  const {\n    likes, owner, name, link,\n  } = card;\n  const currentOwnerId = owner;\n  const isOwn = currentUserId === currentOwnerId;\n  const isLiked = likes.some((likeId) => likeId === currentUserId);\n\n  const deleteBtnClassName = isOwn ? 'element__delete-button' : 'element__delete-button element__delete-button_hidden';\n  const likeBtnLikedClassName = isLiked ? 'element__like-button element__like-button_active' : '';\n  const likeBtnLoadingClassName = likeIsLoading ? 'element__like-button_loading' : '';\n  const likeBtnClassName = `element__like-button ${likeBtnLikedClassName} ${likeBtnLoadingClassName}`;\n\n  useEffect(() => {\n    setLikeIsLoading(false);\n  }, [likes]);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n  function handleDelete() {\n    onDeleteClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n    setLikeIsLoading(true);\n  }\n\n  return (\n    <figure className=\"element\">\n      <button className=\"element__picture-button\" style={{ backgroundImage: `url(${link})` }} onClick={handleClick}/>\n      <button type=\"button\" className={deleteBtnClassName} onClick={handleDelete}></button>\n      <figcaption className=\"element__caption\">\n        <h2 className=\"element__text\">{name}</h2>\n        <div className=\"element__like-container\">\n          <button type=\"button\" className={likeBtnClassName} onClick={handleLikeClick}></button>\n          <p className=\"element__like-counter\">{likes.length}</p>\n        </div>\n      </figcaption>\n    </figure>);\n}\n\nexport default Card;\n","import { React, useContext } from 'react';\n\nimport Card from './Card';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const {\n    onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    onCardClick,\n    cards,\n    onCardLike,\n    onCardDelete,\n  } = props;\n  const { name, about, avatar } = useContext(CurrentUserContext);\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button className=\"profile__avatar-button\" onClick={onEditAvatar} style={{ backgroundImage: `url(${avatar})` }} />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((item) => (\n        <Card\n          card={item}\n          key={item._id}\n          onCardClick={onCardClick}\n          onDeleteClick={onCardDelete}\n          onCardLike={onCardLike}/>)).reverse()}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import { React } from 'react';\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer className=\"footer\">\n      <p className=\"copyright\">\n        &copy; {year} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const {\n    name, title, children, isOpen, onClose, onSubmit, formValidity, buttonText,\n  } = props;\n  const popupClassname = isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`;\n\n  return (\n    <section className={popupClassname}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h2 className=\"popup__title\">\n          {title}\n        </h2>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          {children}\n        <button\n          type=\"submit\"\n          className=\"popup__button\"\n          disabled={!formValidity}>{buttonText}</button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import { useState, useCallback } from 'react';\nimport { validationSettings, authValidation } from './constants';\n\nexport default function useFormAndValidation(authMode = false) {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(true);\n  const [inputsClasses, setInputsClasses] = useState({});\n  const [errorsClasses, setErrorsClasses] = useState({});\n\n  const handleChange = ({ target }) => {\n    const {\n      inputClass, inputErrorClass, errorClass, errorClassVisible,\n    } = authMode ? authValidation : validationSettings;\n    const { name, value } = target;\n    const newInputClass = target.validity.valid ? inputClass : `${inputClass} ${inputErrorClass}`;\n    const newErrorClass = target.validity.valid ? errorClass : `${errorClass} ${errorClassVisible}`;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setInputsClasses({ ...inputsClasses, [name]: newInputClass });\n    setErrorsClasses({ ...errorsClasses, [name]: newErrorClass });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {},\n      newErrors = {},\n      newInputClasses = {},\n      newErrrorClasses = {},\n      newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n      setInputsClasses(newInputClasses);\n      setErrorsClasses(newErrrorClasses);\n    }, [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm,\n    setValues,\n    setIsValid,\n  };\n}\n","import {\n  React, useState, useEffect, useContext, useRef,\n} from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nimport useFormAndValidation from '../utils/validator';\nimport { validationSettings } from '../utils/constants';\n\nfunction EditProfilePopup(props) {\n  const {\n    isOpen, onClose, onUpdateUser, isLoading,\n  } = props;\n  const { inputClass, errorClass } = validationSettings;\n  const {\n    values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm,\n  } = useFormAndValidation();\n\n  const currentUser = useContext(CurrentUserContext);\n  const [buttonText, setButtonText] = useState('Сохранить');\n  const interval = useRef();\n\n  useEffect(() => {\n    if (isLoading) {\n      const dots = ['.', '..', '...'];\n      let i = 0;\n      interval.current = setInterval(() => {\n        setButtonText(`Сохранение${dots[i]}`);\n        i = (i === 2) ? 0 : i + 1;\n      }, 200);\n    } else {\n      clearInterval(interval.current);\n      setButtonText('Сохранить');\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    resetForm(\n      { name: currentUser.name, description: currentUser.about },\n      { name: '', description: '' },\n      { name: inputClass, description: inputClass },\n      { name: errorClass, description: errorClass },\n      true,\n    );\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { name, description: about } = values;\n    onUpdateUser({ name, about });\n  }\n\n  return (\n    <PopupWithForm\n      name={'profile'}\n      title={'Редактировать профиль'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n      formValidity={isValid}>\n      <input\n        id=\"profile-name-input\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        className={inputsClasses.name}\n        placeholder=\"Ваше имя\"\n        value={values.name || ''}\n        onChange={handleChange} />\n      <span className={errorsClasses.name}>{errors.name}</span>\n      <input\n        id=\"profile-description-input\"\n        name=\"description\"\n        required minLength=\"2\"\n        maxLength=\"200\"\n        className={inputsClasses.description}\n        placeholder=\"Описание\"\n        value={values.description || ''}\n        onChange={handleChange} />\n      <span className={errorsClasses.description}>{errors.description}</span>\n    </PopupWithForm>);\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const { isOpen, onClose, selectedCard } = props;\n  const src = selectedCard ? selectedCard.link : '#';\n  const title = selectedCard ? selectedCard.name : '';\n  const popupClass = isOpen ? 'popup popup_opened popup_type_full-view' : 'popup popup_type_full-view';\n  return (\n    <section className={popupClass}>\n      <figure className=\"popup__picture-container\">\n        <div className=\"popup__picture-elements\">\n          <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n          <img className=\"popup__full-picture\"\n            alt=\"Полноэкранный просмотр\"\n            src={src} />\n          <h2 className=\"popup__picture-title\">{title}</h2>\n        </div>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import {\n  React, useEffect, useRef, useState,\n} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormAndValidation from '../utils/validator';\nimport { validationSettings } from '../utils/constants';\n\nfunction EditAvatarPopup(props) {\n  const {\n    isOpen, onClose, onUpdateAvatar, isLoading,\n  } = props;\n  const { inputClass, errorClass } = validationSettings;\n  const {\n    values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm,\n  } = useFormAndValidation();\n  const [buttonText, setButtonText] = useState('Сохранить');\n  const interval = useRef();\n\n  useEffect(() => {\n    if (isLoading) {\n      const dots = ['.', '..', '...'];\n      let i = 0;\n      interval.current = setInterval(() => {\n        setButtonText(`Сохранение${dots[i]}`);\n        i = (i === 2) ? 0 : i + 1;\n      }, 200);\n    } else {\n      clearInterval(interval.current);\n      setButtonText('Сохранить');\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    resetForm(\n      { data: '' },\n      { data: '' },\n      { data: inputClass },\n      { data: errorClass },\n      false,\n    );\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(values.data);\n  }\n\n  return (\n    <PopupWithForm\n      name={'avatar'}\n      title={'Обновить аватар'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n      formValidity={isValid}>\n      <input\n        id=\"avatar-link-input\"\n        name=\"data\"\n        required\n        type=\"url\"\n        className={inputsClasses.data}\n        placeholder=\"Ссылка на аватар\"\n        value={values.data || ''}\n        onChange={handleChange} />\n      <span className={errorsClasses.data}>{errors.data}</span>\n    </PopupWithForm>\n\n  );\n}\n\nexport default EditAvatarPopup;\n","import {\n  React, useState, useEffect, useRef,\n} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormAndValidation from '../utils/validator';\nimport { validationSettings } from '../utils/constants';\n\nfunction AddPlacePopup(props) {\n  const {\n    isOpen, onClose, onAddPlace, isLoading,\n  } = props;\n  const { inputClass, errorClass } = validationSettings;\n  const {\n    values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm,\n  } = useFormAndValidation();\n  const [buttonText, setButtonText] = useState('Сохранить');\n  const interval = useRef();\n\n  useEffect(() => {\n    if (isLoading) {\n      const dots = ['.', '..', '...'];\n      let i = 0;\n      interval.current = setInterval(() => {\n        setButtonText(`Сохранение${dots[i]}`);\n        i = (i === 2) ? 0 : i + 1;\n      }, 200);\n    } else {\n      clearInterval(interval.current);\n      setButtonText('Сохранить');\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    resetForm(\n      { name: '', data: '' },\n      { name: '', data: '' },\n      { name: inputClass, data: inputClass },\n      { name: errorClass, data: errorClass },\n    );\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { name, data: link } = values;\n    onAddPlace({ name, link });\n  }\n\n  return (\n    <PopupWithForm\n      name={'card'}\n      title={'Новое место'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n      formValidity={isValid}>\n      <input\n        id=\"place-name-input\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        className={inputsClasses.name}\n        placeholder=\"Название\"\n        onChange={handleChange}\n        value={values.name || ''} />\n      <span className={errorsClasses.name}>{errors.name}</span>\n      <input\n        id=\"place-link-input\"\n        name=\"data\"\n        required\n        type=\"url\"\n        className={inputsClasses.data}\n        placeholder=\"Ссылка на картинку\"\n        onChange={handleChange}\n        value={values.data || ''}/>\n      <span className={errorsClasses.data}>{errors.data}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import {\n  React, useState, useEffect, useRef,\n} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n  const {\n    isOpen, onClose, selectedCard, onDeleteCard, isLoading,\n  } = props;\n  const [buttonText, setButtonText] = useState('Да');\n  const interval = useRef();\n\n  useEffect(() => {\n    if (isLoading) {\n      const dots = ['.', '..', '...'];\n      let i = 0;\n      interval.current = setInterval(() => {\n        setButtonText(`Удаление${dots[i]}`);\n        i = (i === 2) ? 0 : i + 1;\n      }, 200);\n    } else {\n      clearInterval(interval.current);\n      setButtonText('Да');\n    }\n  }, [isLoading]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeleteCard(selectedCard);\n  }\n\n  return (\n    <PopupWithForm\n      name={'remove-card'}\n      title={'Вы уверены?'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n      formValidity={true}>\n  </PopupWithForm>\n\n  );\n}\n\nexport default DeleteCardPopup;\n","export default __webpack_public_path__ + \"static/media/check.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/cross.d4ce2a26.svg\";","import React from 'react';\n\nimport check from '../images/check.svg';\nimport cross from '../images/cross.svg';\n\nfunction InfoTooltip(props) {\n  const { isOpen, onClose, accepted } = props;\n  const popupClassname = isOpen ? 'popup popup_type_tooltip popup_opened' : 'popup popup_type_tooltip';\n  const { text, picSrc } = accepted\n    ? {\n      text: 'Вы успешно зарегистрировались!',\n      picSrc: check,\n    }\n    : {\n      text: 'Что-то пошло не так! Попробуйте ещё раз.',\n      picSrc: cross,\n    };\n  return (\n    <section className={popupClassname}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button popup__close-button_type_info\" onClick={onClose}></button>\n          <img className=\"popup__info-img\" alt=\"Информационное изображение\" src={picSrc} />\n          <p className=\"popup__info-text\">\n            {text}\n          </p>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import { React, useEffect } from 'react';\nimport useFormAndValidation from '../utils/validator';\nimport { authValidation } from '../utils/constants';\n\nfunction AuthForm(props) {\n  const { loggedIn, onSubmit, buttonText } = props;\n  const { inputClass, errorClass } = authValidation;\n  const {\n    values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm,\n  } = useFormAndValidation(true);\n\n  useEffect(() => {\n    resetForm(\n      { email: '', password: '' },\n      { email: '', password: '' },\n      { email: inputClass, password: inputClass },\n      { email: errorClass, password: errorClass },\n    );\n  }, [loggedIn]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit(values);\n  }\n\n  return (\n    <form className=\"auth-form__container\" onSubmit={handleSubmit}>\n      <fieldset className=\"auth-form__inputs\">\n        <input\n          className={inputsClasses.email}\n          id=\"email-input\"\n          type=\"email\"\n          required\n          name=\"email\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          placeholder=\"Email\"\n          value={values.email || ''}\n          onChange={handleChange}>\n        </input>\n        <span className={errorsClasses.email}>{errors.email}</span>\n        <input\n          className={inputsClasses.password}\n          id=\"password-input\"\n          type=\"password\"\n          required\n          name=\"password\"\n          minLength=\"7\"\n          maxLength=\"30\"\n          placeholder=\"Пароль\"\n          value={values.password || ''}\n          onChange={handleChange}>\n        </input>\n        <span className={errorsClasses.password}>{errors.password}</span>\n      </fieldset>\n      <button className=\"auth-form__button\" type=\"submit\" disabled={!isValid}>{buttonText}</button>\n    </form>\n  );\n}\n\nexport default AuthForm;\n","import { React } from 'react';\nimport AuthForm from './AuthForm';\n\nfunction Login(props) {\n  const { loggedIn, onLogin } = props;\n\n  return (\n    <div className=\"auth-form\">\n      <h2 className=\"auth-form__header\">\n        Вход\n      </h2>\n      <AuthForm loggedIn={loggedIn} onSubmit={onLogin} buttonText={'Войти'}/>\n    </div>\n  );\n}\n\nexport default Login;\n","import { React } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport AuthForm from './AuthForm';\n\nfunction Register(props) {\n  const { loggedIn, onRegister } = props;\n\n  return (\n    <div className=\"auth-form\">\n      <h2 className=\"auth-form__header\">\n        Регистрация\n      </h2>\n      <AuthForm\n        buttonText={'Зарегистрироваться'}\n        loggedIn={loggedIn}\n        onSubmit={onRegister} />\n      <p className=\"auth-form__bottom-message\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\"> Войти </Link></p>\n    </div>\n  );\n}\n\nexport default withRouter(Register);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n    <Route>\n      {() => (props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />)\n      }\n    </Route>\n);\n\nexport default ProtectedRoute;\n","import {\n  React, useEffect, useState, useCallback,\n} from 'react';\n\nimport {\n  Switch, useHistory, useLocation, Route, withRouter,\n} from 'react-router-dom';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isTooltipOpen, setTooltipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [cardToDelete, setCardToDelete] = useState({});\n  const [popupDataIsLoading, setPopupDataIsLoading] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [tooltipAcceptedStatus, setTooltipAcceptedStatus] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n  function closeAllPopups() {\n    // eslint-disable-next-line no-use-before-define\n    removeEventListeners();\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n    setImagePopupOpen(false);\n    setTooltipOpen(false);\n    setSelectedCard({});\n    setCardToDelete({});\n  }\n\n  const closeOnEsc = useCallback((e) => {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }, []);\n\n  const closeOnOverlay = useCallback((e) => {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }, []);\n\n  function removeEventListeners() {\n    document.removeEventListener('keydown', closeOnEsc);\n    document.removeEventListener('pointerdown', closeOnOverlay);\n  }\n\n  function setEventListeners() {\n    document.addEventListener('keydown', closeOnEsc);\n    document.addEventListener('pointerdown', closeOnOverlay);\n  }\n\n  function openToolTip(state) {\n    setTooltipOpen(true);\n    setTooltipAcceptedStatus(state);\n    setEventListeners();\n  }\n\n  function saveToken(jwt) {\n    localStorage.setItem('jwt', jwt);\n    api.setNewToken(jwt);\n  }\n\n  function checkToken() {\n    api.checkToken().then(() => {\n      setLoggedIn(true);\n      history.push('/');\n    }).catch((err) => {\n      if (err.message !== 'no token') {\n        openToolTip(false);\n        console.log(err);\n      }\n    });\n  }\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n        .then(([user, initialCardData]) => {\n          setCurrentUser(user);\n          setCards(initialCardData.cards);\n          setUserEmail(user.email);\n        }).catch((err) => {\n          console.log(err);\n          openToolTip(false);\n        });\n    }\n  }, [loggedIn]);\n\n  function handleEditAvatarClick() {\n    setEventListeners();\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEventListeners();\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setEventListeners();\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setEventListeners();\n    setDeleteCardPopupOpen(true);\n    setCardToDelete(card);\n  }\n\n  function handleCardClick(card) {\n    setEventListeners();\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setPopupDataIsLoading(true);\n    api.setUserInfo(name, about)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    setPopupDataIsLoading(true);\n    api.setUserAvatar(link)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((likeId) => likeId === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((currentCards) => currentCards\n          .map((currentCard) => (currentCard._id === card._id ? newCard : currentCard)));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      });\n  }\n\n  function handleConfirmDelete(card) {\n    setPopupDataIsLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((currentCards) => currentCards\n          .filter((currentCard) => currentCard._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false);\n      });\n  }\n\n  function handleAddCard({ name, link }) {\n    setPopupDataIsLoading(true);\n    api.addNewCard(name, link)\n      .then((data) => {\n        setCards((currentCards) => [...currentCards, data.card]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setPopupDataIsLoading(false);\n      });\n  }\n\n  function handleSignIn({ email, password }) {\n    api.authorize({ email, password }).then((user) => {\n      saveToken(user.token);\n      setLoggedIn(true);\n      history.push('/');\n    })\n      .catch((err) => {\n        openToolTip(false);\n        console.log(err);\n      });\n  }\n\n  function handleSignUp({ email, password }) {\n    api.register({ email, password }).then(() => {\n      openToolTip(true);\n      history.push('/sign-in');\n    }).catch((err) => {\n      openToolTip(false);\n      console.log(err);\n    });\n  }\n\n  function removeToken() {\n    localStorage.removeItem('jwt');\n  }\n\n  function handleSignOut() {\n    removeToken();\n    setLoggedIn(false);\n  }\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header\n            currentLocation={useLocation().pathname}\n            login={userEmail}\n            signOut={handleSignOut} />\n          <Switch>\n            <Route\n              exact\n              path=\"/sign-in\">\n              <Login\n                loggedIn={loggedIn}\n                onLogin={handleSignIn} />\n            </Route>\n            <Route\n              exact\n              path=\"/sign-up\">\n              <Register\n                loggedIn={loggedIn}\n                onRegister={handleSignUp} />\n            </Route>\n          <ProtectedRoute\n              exact\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCardClick} />\n          </Switch>\n          <Footer />\n          <InfoTooltip\n            onClose={closeAllPopups}\n            isOpen={isTooltipOpen}\n            accepted={tooltipAcceptedStatus} />\n          <EditProfilePopup\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n            isOpen={isEditProfilePopupOpen}\n            isLoading={popupDataIsLoading} />\n          <AddPlacePopup\n            onAddPlace={handleAddCard}\n            onClose={closeAllPopups}\n            isOpen={isAddPlacePopupOpen}\n            isLoading={popupDataIsLoading} />\n          <EditAvatarPopup\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n            isOpen={isEditAvatarPopupOpen}\n            isLoading={popupDataIsLoading} />\n          <DeleteCardPopup\n            onDeleteCard={handleConfirmDelete}\n            onClose={closeAllPopups}\n            isOpen={isDeleteCardPopupOpen}\n            selectedCard={cardToDelete}\n            isLoading={popupDataIsLoading} />\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n            selectedCard={selectedCard} />\n        </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}